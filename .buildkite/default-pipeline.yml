---
# $yaml-language-server: $schema=https://raw.githubusercontent.com/buildkite/pipeline-schema/main/schema.json
steps:
  - label: ":test_tube: Test plugin"
    command: docker run --rm -v "$PWD:/plugin:ro" buildkite/plugin-tester
    agents:
      image: docker.elastic.co/release-eng/ubuntu-build-essential-release-eng:latest

  - label: ":sparkles: Buildkite plugin Lint"
    plugins:
      - plugin-linter#v3.3.0:
          id: elastic/json-watcher
    agents:
      provider: "gcp"
      image: family/core-ubuntu-2204
